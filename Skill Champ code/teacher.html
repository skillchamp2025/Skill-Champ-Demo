<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Teacher Deshboard</title>
  <style>
    body {margin:0;font-family:"Segoe UI",sans-serif;background:#f7f9fc;}
    header {background:#004aad;color:white;padding:12px 20px;text-align:center;font-size:22px;font-weight:bold;}
    .container {display:flex;height:100vh;}
    .sidebar {width:240px;background:#1f2937;color:white;display:flex;flex-direction:column;padding-top:15px;}
    .sidebar button {background:none;border:none;color:white;padding:12px 18px;text-align:left;font-size:16px;cursor:pointer;transition:0.3s;}
    .sidebar button:hover,.sidebar button.active {background:#2563eb;}
    main {flex:1;padding:20px;overflow-y:auto;}
    h2 {color:#004aad;margin-top:0;}
    .card {background:white;padding:20px;border-radius:12px;box-shadow:0 2px 6px rgba(0,0,0,0.08);margin-bottom:20px;}
    .row {display:flex;flex-wrap:wrap;gap:10px;}
    .col {flex:1;min-width:200px;display:flex;flex-direction:column;}
    label {font-weight:600;margin-bottom:4px;}
    input,select,textarea {padding:8px;border:1px solid #ccc;border-radius:6px;outline:none;}
    textarea {resize:vertical;}
    .btn {background:#2563eb;color:white;padding:8px 14px;border:none;border-radius:6px;cursor:pointer;transition:0.3s;}
    .btn:hover {background:#004aad;}
    table {width:100%;border-collapse:collapse;margin-top:10px;}
    th,td {border:1px solid #ddd;padding:6px 10px;text-align:left;}
    th {background:#f1f5f9;}

    .year-block {
    margin-bottom: 30px;
  }
  .year-title {
    font-size: 18px;
    font-weight: bold;
    margin-bottom: 10px;
    color: #1e3a8a;
  }
  .course-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 10px;
  }
  .course {
    background: #1d4ed8;
    color: #fff;
    padding: 10px;
    border-radius: 8px;
    font-size: 14px;
  }
  .course.me {
    background: #0d9488;
  }
  .internship {
    grid-column: 1 / -1;
    text-align: center;
    background: #2563eb;
    color: #fff;
    font-weight: bold;
    border-radius: 8px;
    padding: 12px;
    margin-top: 10px;
  }
  </style>
</head>
<body>

<header>Teacher Deshboard</header>

<div class="container">
  <aside class="sidebar">
    <button data-section="teacherOverview" class="active">üßë‚Äçüè´ Teacher Overview</button>
    <button data-section="availability">üïì Availability</button>
    <button data-section="subjectPreference">üìò Subject Preference</button>
    <button data-section="leaveSection">üèñ Leave Requests</button>
    <button data-section="specialReq">‚öô Special Requirement</button>
    <button data-section="routine">üìÖ Routine Check</button>
  </aside>

  <main>
    <!-- üßë‚Äçüè´ Teacher Overview -->
<section id="teacherOverview" class="card">
  <h2>üßë‚Äçüè´ Teacher Overview</h2>
  <div style="display:flex;flex-wrap:wrap;gap:20px;align-items:center;">
    <div style="flex:1;min-width:260px;">
      <h3 style="color:#004aad;margin-bottom:6px;">Dr. Amit Maity</h3>
      <p><strong>Department:</strong> MCA</p>
      <p><strong>Designation:</strong> Assistant Professor</p>
      <p><strong>Email:</strong> amit.maity@college.edu</p>
      <p><strong>Experience:</strong> 7 years</p>
      <p><strong>Specialization:</strong> AI, ML, DBMS</p>
      <p><strong>Total Students (Dept):</strong> 240</p>
      <p><strong>Handled Batches:</strong> 6</p>
    </div>
    <div style="flex:1;min-width:200px;text-align:center;">
      <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Teacher" style="width:120px;border-radius:50%;box-shadow:0 0 8px rgba(0,0,0,0.1);margin-bottom:10px;">
      <p style="color:#2563eb;font-weight:bold;">HOD Verified ‚úÖ</p>
    </div>
  </div>
</section>


    <!-- üïì Availability -->
<section id="availability" class="card" style="display:none">
  <h2>üïì Teacher Availability</h2>
  <div class="row">
    <div class="col">
      <label>Available Days</label>
      <div id="availableDaysCheckboxes">
        <label><input type="checkbox" checked value="Monday"> Monday</label><br>
        <label><input type="checkbox" checked value="Tuesday"> Tuesday</label><br>
        <label><input type="checkbox" checked value="Wednesday"> Wednesday</label><br>
        <label><input type="checkbox" checked value="Thursday"> Thursday</label><br>
        <label><input type="checkbox" checked value="Friday"> Friday</label><br>
        <label><input type="checkbox" checked value="Saturday"> Saturday </label><br>
      </div>
    </div>
    <div class="col">
      <label>Preferred Time Slots</label>
      <textarea id="preferredSlots" placeholder="e.g. 9AM‚Äì11AM, 2PM‚Äì4PM"></textarea>
    </div>
  </div>
  <button class="btn" style="margin-top:10px" onclick="saveAvailability()">Save</button>

  <table id="availabilityTable">
    <thead><tr><th>Days</th><th>Slots</th></tr></thead>
    <tbody></tbody>
  </table>
</section>

<script>
  // Limit uncheck max 2 days
  const checkboxes = document.querySelectorAll('#availableDaysCheckboxes input[type="checkbox"]');
  checkboxes.forEach(cb => {
    cb.addEventListener('change', () => {
      const unchecked = Array.from(checkboxes).filter(x => !x.checked);
      if (unchecked.length > 2) {
        alert("You can uncheck only 2 days maximum!");
        cb.checked = true;
      }
    });
  });
</script>


    <!-- üìò Subject Preference -->
    <section id="subjectPreference" class="card" style="display:none">
      <h2>üìò Subject Preference</h2>
      <div class="row">
        <div class="col">
          <label>Preferred Subjects</label>
          <textarea id="prefSubjects" placeholder="AI, DBMS, OS"></textarea>
        </div>
      </div>
      <button class="btn" style="margin-top:10px" onclick="savePreference()">Save</button>

      <table id="prefTable">
        <thead><tr><th>Preferred Subjects</th></tr></thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- üèñ Leave Requests -->
<section id="leaveSection" class="card" style="display:none">
  <h2>üèñ Leave Requests</h2>
  <div style="display:flex;gap:20px;">
    <div style="flex:2;">
      <div class="row">
        <div class="col">
          <label>From</label>
          <input id="leaveFrom" type="date" />
        </div>
        <div class="col">
          <label>To</label>
          <input id="leaveTo" type="date" />
        </div>
      </div>
      <div class="row" style="margin-top:10px;">
        <div class="col">
          <label>Reason</label>
          <textarea id="leaveReason" placeholder="Medical, Conference, etc."></textarea>
        </div>
      </div>
      <button class="btn" style="margin-top:10px" onclick="submitLeave()">Submit</button>

      <table id="leaveTable">
        <thead><tr><th>From</th><th>To</th><th>Reason</th><th>Status</th></tr></thead>
        <tbody></tbody>
      </table>
    </div>

    <!-- Right Side Box -->
    <div style="flex:1;background:#eef3ff;border-radius:10px;padding:15px;box-shadow:0 2px 6px rgba(0,0,0,0.05);">
      <h3 style="color:#004aad;">Leave Status</h3>
      <p id="leaveStatus" style="font-weight:bold;color:#d97706;">No current requests</p>
      <button id="approveBtn" class="btn" style="display:none;background:#16a34a;margin-top:10px;">Approve</button>
      <h5>This is devaloping mood and this portion cannected with HOD Deshboard</h5>
    </div>
  </div>

  <script>
    function submitLeave(){
      const l = { from: leaveFrom.value, to: leaveTo.value, reason: leaveReason.value, status:"Pending" };
      leaveTable.querySelector("tbody").innerHTML = `
        <tr><td>${l.from}</td><td>${l.to}</td><td>${l.reason}</td><td id="leaveStatusCell">${l.status}</td></tr>
      `;
      document.getElementById('leaveStatus').textContent = "Pending Approval ‚è≥";
      document.getElementById('approveBtn').style.display = "inline-block";
    }

    document.getElementById('approveBtn').addEventListener('click',()=>{
      document.getElementById('leaveStatus').textContent = "Approved ‚úÖ";
      document.getElementById('leaveStatus').style.color = "#16a34a";
      document.getElementById('approveBtn').style.display = "none";
      const rowCell = document.getElementById("leaveStatusCell");
      if(rowCell) rowCell.textContent = "Approved";
    });
  </script>
</section>



    <!-- ‚öô Special Requirement -->
<section id="specialReq" class="card" style="display:none">
  <h2>‚öô Special Requirement</h2>

  <div class="row">
    <div class="col">
      <label>Requirement Type</label>
      <input id="reqType" placeholder="Lab Setup, Projector, etc." />
    </div>
  </div>

  <div class="row" style="margin-top:10px;">
    <div class="col">
      <label>Description</label>
      <textarea id="reqDescription" placeholder="Enter details"></textarea>
    </div>
  </div>

  <button class="btn" style="margin-top:10px" onclick="addSpecialReq()">Add</button>

  <table id="specialTable">
    <thead><tr><th>Type</th><th>Description</th><th>Status</th></tr></thead>
    <tbody></tbody>
  </table>
</section>

<script>
  function addSpecialReq(){
    const type = reqType.value.trim();
    const desc = reqDescription.value.trim();

    if(!type || !desc){
      alert("Please fill all fields before adding!");
      return;
    }

    // Default Status is Pending
    const status = "Pending ‚è≥";

    const newRow = `
      <tr>
        <td>${type}</td>
        <td>${desc}</td>
        <td>${status}</td>
      </tr>
    `;

    document.querySelector("#specialTable tbody").innerHTML += newRow;

    reqType.value = "";
    reqDescription.value = "";
  }
</script>



    <!-- Routine -->
        <section id="routine" class="card" style="display:none">
          <h2>üìÖ Routine Viewer</h2>
          <div class="row">
            <div class="col">
              <label>Select Semester (for dept routine)</label>
              <select id="routineSemester"><option>1</option><option>2</option><option>3</option><option>4</option></select>
            </div>
            <div class="col">
              <label>Or Select Teacher (to view teacher routine)</label>
              <select id="routineTeacher"><option>Select Teacher</option></select>
            </div>
          </div>
          <div style="margin-top:12px">
            <button class="btn secondary" onclick="showDeptRoutine()">Show Department Routine</button>
            <button class="btn secondary" onclick="showTeacherRoutine()">Show Teacher Routine</button>
          </div>

          <div id="routineDisplay" style="margin-top:12px"></div>
        </section>

  </main>
</div>

<script>
  // Sidebar navigation
  const sections = document.querySelectorAll("section");
  document.querySelectorAll(".sidebar button").forEach(btn=>{
    btn.addEventListener("click",()=>{
      document.querySelectorAll(".sidebar button").forEach(b=>b.classList.remove("active"));
      btn.classList.add("active");
      sections.forEach(s=>s.style.display="none");
      document.getElementById(btn.dataset.section).style.display="block";
    });
  });

  const teacherData = {};
  const availabilityData = [];
  const preferenceData = [];
  const leaveData = [];
  const specialReqData = [];

  const cssePlan = {
  "Year 1": [
    { name: "Introduction to Computer Science", type: "m", cp: 7.5 },
    { name: "Programming in C/C++", type: "m", cp: 7.5 },
    { name: "Algorithms and Data Structures", type: "m", cp: 7.5 },
    { name: "Introduction to Cyber Physical Systems", type: "m", cp: 7.5 },
    { name: "Software Design and Prototyping", type: "m", cp: 7.5 },
    { name: "Introduction to Data Science", type: "m", cp: 7.5 },
    { name: "Calculus and Elements of Linear Algebra I", type: "m", cp: 5 },
    { name: "Calculus and Elements of Linear Algebra II", type: "m", cp: 5 },
    { name: "Distributed Development", type: "me", cp: 5 }
  ],
  "Year 2": [
    { name: "Software Engineering", type: "m", cp: 7.5 },
    { name: "Artificial Intelligence (CSSE)", type: "m", cp: 7.5 },
    { name: "Machine Learning + ML Tools", type: "m", cp: 7.5 },
    { name: "Databases and Web Services", type: "m", cp: 7.5 },
    { name: "Operating Systems", type: "m", cp: 7.5 },
    { name: "Data Analytics and Modeling", type: "m", cp: 7.5 },
    { name: "Probability and Random Processes", type: "m", cp: 5 },
    { name: "Elective 1", type: "me", cp: 5 },
    { name: "Elective 2", type: "me", cp: 5 }
  ],
  "Year 3": [
    { name: "Bachelor Thesis", type: "m", cp: 10 },
    { name: "CSSE Specialization (2 x 5 CP)", type: "me", cp: 10 },
    { name: "CSSE Specialization", type: "me", cp: 5 },
    { name: "Collaborative Software Project", type: "m", cp: 5 },
    { name: "Elective 3", type: "me", cp: 5 },
    { name: "Management", type: "m", cp: 10 }
  ],
  "Internship": [
    { name: "Summer Internship", type: "m", cp: 15 }
  ]
};

function renderCSSEPlan() {
  let html = `<h3>üìò BSc in CS & Software Engineering</h3>`;
  for (const year in cssePlan) {
    if (year === "Internship") {
      html += `<div class="internship">${cssePlan[year][0].name} (${cssePlan[year][0].cp} CP)</div>`;
      continue;
    }
    html += `<div class="year-block"><div class="year-title">${year}</div><div class="course-grid">`;
    cssePlan[year].forEach(c=>{
      html += `<div class="course ${c.type}">${c.name}<br>(${c.type}, ${c.cp} CP)</div>`;
    });
    html += `</div></div>`;
  }
  document.getElementById("routineDisplay").innerHTML = html;
}

// Load by default
renderCSSEPlan();


  function addTeacherOverview(){
    teacherData.name = teacherFullName.value;
    teacherData.dept = teacherDept.value;
    teacherData.designation = teacherDesignation.value;
    teacherData.email = teacherEmail.value;
    teacherData.exp = teacherExperience.value;
    teacherData.spec = teacherSpecialization.value;

    teacherOverviewTable.querySelector("tbody").innerHTML = `
      <tr>
        <td>${teacherData.name}</td>
        <td>${teacherData.dept}</td>
        <td>${teacherData.designation}</td>
        <td>${teacherData.email}</td>
        <td>${teacherData.exp}</td>
        <td>${teacherData.spec}</td>
      </tr>`;
  }

  function saveAvailability(){
    const a = {
      days: Array.from(availableDays.selectedOptions).map(o=>o.value).join(', '),
      slots: preferredSlots.value
    };
    availabilityData.push(a);
    availabilityTable.querySelector("tbody").innerHTML = availabilityData.map(x=>
      `<tr><td>${x.days}</td><td>${x.slots}</td></tr>`
    ).join('');
  }

  function savePreference(){
    const p = { subjects: prefSubjects.value };
    preferenceData.push(p);
    prefTable.querySelector("tbody").innerHTML = preferenceData.map(x=>a
      `<tr><td>${x.subjects}</td></tr>`
    ).join('');
  }

  function showDeptRoutine() {
    const sem = document.getElementById("routineSemester").value;
    document.getElementById("routineDisplay").innerHTML = `
      <h3>üìò Department Routine - Semester ${sem}</h3>
      <table>
        <thead><tr><th>Day</th><th>9AM - 11AM</th><th>11AM - 1PM</th><th>2PM - 4PM</th></tr></thead>
        <tbody>
          <tr><td>Monday</td><td>AI</td><td>DBMS</td><td>OS</td></tr>
          <tr><td>Tuesday</td><td>ML</td><td>CN</td><td>DBMS</td></tr>
          <tr><td>Wednesday</td><td>OS</td><td>AI</td><td>Free</td></tr>
          <tr><td>Thursday</td><td>CN</td><td>ML</td><td>AI</td></tr>
          <tr><td>Friday</td><td>Free</td><td>DBMS</td><td>OS</td></tr>
        </tbody>
      </table>
    `;
  }

  function showTeacherRoutine() {
    const teacher = document.getElementById("routineTeacher").value;
    if (teacher === "Select Teacher") {
      alert("Please select a teacher first!");
      return;
    }

    document.getElementById("routineDisplay").innerHTML = `
      <h3>üßë‚Äçüè´ Routine for ${teacher}</h3>
      <table>
        <thead><tr><th>Day</th><th>9AM - 11AM</th><th>11AM - 1PM</th><th>2PM - 4PM</th></tr></thead>
        <tbody>
          <tr><td>Monday</td><td>AI</td><td>DBMS</td><td>-</td></tr>
          <tr><td>Tuesday</td><td>-</td><td>CN</td><td>OS</td></tr>
          <tr><td>Wednesday</td><td>DBMS</td><td>-</td><td>AI</td></tr>
          <tr><td>Thursday</td><td>ML</td><td>OS</td><td>-</td></tr>
          <tr><td>Friday</td><td>-</td><td>AI</td><td>Free</td></tr>
        </tbody>
      </table>
    `;
  }

  // Preload some teacher names
  const teacherSelect = document.getElementById("routineTeacher");
  const teachers = ["Dr. Amit Maity", "Prof. S. Ghosh", "Dr. R. Das"];
  teachers.forEach(t => {
    const opt = document.createElement("option");
    opt.textContent = t;
    teacherSelect.appendChild(opt);
  });


  
</script>
</body>
</html>
